package layouts

import (
	"context"
	"templ-ui-kit/src/components"
	"templ-ui-kit/src/i18n"
)

// Aliasy dla u≈Çatwienia
type (
	ButtonProps = components.ButtonProps
	ButtonVariant = components.ButtonVariant
	ButtonSize = components.ButtonSize
	ButtonWidth = components.ButtonWidth
	IconPosition = components.IconPosition
	CardProps = components.CardProps
	ErrorProps = components.ErrorProps
	ErrorVariant = components.ErrorVariant
	NotificationProps = components.NotificationProps
	NotificationType = components.NotificationType
	NotificationPosition = components.NotificationPosition
	FormInputProps = components.FormInputProps
	InputSize = components.InputSize
	InputVariant = components.InputVariant
	FormSelectProps = components.FormSelectProps
	SelectOption = components.SelectOption
)

// Aliasy dla funkcji komponent√≥w
var (
	Button = components.Button
	Card = components.Card
	Error = components.Error
	Notification = components.Notification
	InlineNotification = components.InlineNotification
	FormInput = components.FormInput
	FormSelect = components.FormSelect
	IconPlus = components.IconPlus
	IconTrash = components.IconTrash
	IconDownload = components.IconDownload
)

// Aliasy dla sta≈Çych
const (
	VariantPrimary = components.VariantPrimary
	VariantSecondary = components.VariantSecondary
	VariantDanger = components.VariantDanger
	VariantBuy = components.VariantBuy
	
	SizeSmall = components.SizeSmall
	SizeMedium = components.SizeMedium
	SizeLarge = components.SizeLarge
	SizeXLarge = components.SizeXLarge
	
	WidthXSmall = components.WidthXSmall
	WidthSmall = components.WidthSmall
	WidthMedium = components.WidthMedium
	WidthLarge = components.WidthLarge
	
	IconLeft = components.IconLeft
	IconRight = components.IconRight
	
	CardVariantGray = components.CardVariantGray
	CardVariantWhite = components.CardVariantWhite
	CardSizeMedium = components.CardSizeMedium
	CardSizeFull = components.CardSizeFull
	
	ErrorVariantDanger = components.ErrorVariantDanger
	ErrorVariantWarning = components.ErrorVariantWarning
	ErrorVariantInfo = components.ErrorVariantInfo
	
	NotificationSuccess = components.NotificationSuccess
	NotificationError = components.NotificationError
	NotificationWarning = components.NotificationWarning
	NotificationInfo = components.NotificationInfo
	
	PositionTopRight = components.PositionTopRight
	
	InputSizeSmall = components.InputSizeSmall
	InputSizeMedium = components.InputSizeMedium
	InputSizeLarge = components.InputSizeLarge
	
	InputVariantDefault = components.InputVariantDefault
	InputVariantError = components.InputVariantError
	InputVariantSuccess = components.InputVariantSuccess
)

// t helper function for translations
func t(ctx context.Context, key string) string {
	lang := i18n.GetLanguage(ctx)
	return i18n.GetTranslator().T(lang, key)
}

templ TestLayoutI18n(ctx context.Context) {
	<!DOCTYPE html>
	<html lang={ i18n.GetLanguage(ctx) }>
		<head>
			<meta charset="UTF-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>{ t(ctx, "app.title") }</title>
			<script src="https://cdn.tailwindcss.com"></script>
			<link rel="stylesheet" href="/static/theme.css"/>
			<style>
				.component-section {
					margin-bottom: 3rem;
					padding: 2rem;
					background: #f9fafb;
					border-radius: 0.5rem;
				}
				.component-title {
					font-size: 1.5rem;
					font-weight: bold;
					margin-bottom: 1.5rem;
					color: #1f2937;
					border-bottom: 2px solid #3b82f6;
					padding-bottom: 0.5rem;
				}
				.demo-grid {
					display: grid;
					gap: 1.5rem;
					margin-top: 1rem;
				}
				.demo-item {
					padding: 1rem;
					background: white;
					border-radius: 0.375rem;
					border: 1px solid #e5e7eb;
				}
				.demo-label {
					font-size: 0.875rem;
					font-weight: 600;
					color: #6b7280;
					margin-bottom: 0.5rem;
				}
			</style>
		</head>
		<body class="bg-gray-100 p-8">
			<div class="max-w-7xl mx-auto">
				// Language Switcher
				<div class="mb-4 flex justify-end gap-2">
					<a href="?lang=en" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">English</a>
					<a href="?lang=pl" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">Polski</a>
					<a href="?lang=de" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">Deutsch</a>
				</div>
				
				<header class="mb-8">
					<h1 class="text-4xl font-bold text-gray-900 mb-2">{ t(ctx, "app.title") }</h1>
					<p class="text-gray-600">{ t(ctx, "app.subtitle") }</p>
				</header>
				
				// BUTTONS
				<section class="component-section">
					<h2 class="component-title">üîò { t(ctx, "section.buttons") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.variants") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.primary"), Variant: VariantPrimary})
								@Button(ButtonProps{Text: t(ctx, "button.secondary"), Variant: VariantSecondary})
								@Button(ButtonProps{Text: t(ctx, "button.danger"), Variant: VariantDanger})
								@Button(ButtonProps{Text: t(ctx, "button.buy"), Variant: VariantBuy})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.sizes") }</div>
							<div class="flex gap-2 items-center flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "size.small"), Size: SizeSmall})
								@Button(ButtonProps{Text: t(ctx, "size.medium"), Size: SizeMedium})
								@Button(ButtonProps{Text: t(ctx, "size.large"), Size: SizeLarge})
								@Button(ButtonProps{Text: t(ctx, "size.xlarge"), Size: SizeXLarge})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.icons") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.add"), Icon: IconPlus(), IconPosition: IconLeft})
								@Button(ButtonProps{Text: t(ctx, "button.delete"), Icon: IconTrash(), Variant: VariantDanger})
								@Button(ButtonProps{Text: t(ctx, "button.download"), Icon: IconDownload(), IconPosition: IconRight, Variant: VariantBuy})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.states") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.loading"), Loading: true})
								@Button(ButtonProps{Text: t(ctx, "button.disabled"), Disabled: true})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.widths") }</div>
							<div class="space-y-2">
								@Button(ButtonProps{Text: t(ctx, "width.xsmall"), Width: WidthXSmall})
								@Button(ButtonProps{Text: t(ctx, "width.small"), Width: WidthSmall})
								@Button(ButtonProps{Text: t(ctx, "width.medium"), Width: WidthMedium})
								@Button(ButtonProps{Text: t(ctx, "width.large"), Width: WidthLarge})
								@Button(ButtonProps{Text: t(ctx, "width.full")})
							</div>
						</div>
					</div>
				</section>
				
				// CARDS
				<section class="component-section">
					<h2 class="component-title">üÉè { t(ctx, "section.cards") }</h2>
					<div class="demo-grid grid-cols-1 md:grid-cols-3">
						@Card(CardProps{
							Title:   t(ctx, "card.white.title"),
							Content: t(ctx, "card.white.content"),
							Variant: CardVariantWhite,
							Size:    CardSizeMedium,
						})
						@Card(CardProps{
							Title:   t(ctx, "card.gray.title"),
							Content: t(ctx, "card.gray.content"),
							Variant: CardVariantGray,
							Size:    CardSizeMedium,
						})
						@Card(CardProps{
							Title:   t(ctx, "card.blue.title"),
							Content: t(ctx, "card.blue.content"),
							Variant: components.CardVariantBlue,
							Size:    CardSizeMedium,
						})
					</div>
				</section>
				
				// FORM INPUTS
				<section class="component-section">
					<h2 class="component-title">üìù { t(ctx, "section.forms") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.variants") } & { t(ctx, "label.sizes") }</div>
							<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
								<div>
									@FormInput(FormInputProps{
										Name:         "username",
										Label:        t(ctx, "form.username"),
										Placeholder:  t(ctx, "form.username.placeholder"),
										Autocomplete: "username",
									})
								</div>
								<div>
									@FormInput(FormInputProps{
										Name:         "email",
										Type:         "email",
										Label:        t(ctx, "form.email"),
										Placeholder:  t(ctx, "form.email.placeholder"),
										HelpText:     t(ctx, "form.email.help"),
										Autocomplete: "email",
									})
								</div>
								<div>
									@FormInput(FormInputProps{
										Name:         "password",
										Type:         "password",
										Label:        t(ctx, "form.password"),
										Variant:      InputVariantError,
										ErrorMsg:     t(ctx, "form.password.error"),
										Autocomplete: "current-password",
									})
								</div>
								<div>
									@FormInput(FormInputProps{
										Name:         "confirm",
										Type:         "password",
										Label:        t(ctx, "form.confirm"),
										Variant:      InputVariantSuccess,
										Autocomplete: "new-password",
									})
								</div>
								<div>
									@FormInput(FormInputProps{
										Name:        "disabled",
										Label:       t(ctx, "form.disabled"),
										Value:       t(ctx, "form.disabled.value"),
										Disabled:    true,
									})
								</div>
								<div>
									@FormInput(FormInputProps{
										Name:        "large",
										Label:       t(ctx, "form.large"),
										Placeholder: t(ctx, "form.large.placeholder"),
										Size:        InputSizeLarge,
									})
								</div>
							</div>
						</div>
						
						<div class="demo-item">
							<div class="demo-label">Input Sizes</div>
							<div class="space-y-4">
								@FormInput(FormInputProps{
									Name:        "small",
									Label:       t(ctx, "size.small"),
									Placeholder: t(ctx, "size.small"),
									Size:        InputSizeSmall,
								})
								@FormInput(FormInputProps{
									Name:        "medium",
									Label:       t(ctx, "size.medium"),
									Placeholder: t(ctx, "size.medium"),
									Size:        InputSizeMedium,
								})
								@FormInput(FormInputProps{
									Name:        "large-size",
									Label:       t(ctx, "size.large"),
									Placeholder: t(ctx, "size.large"),
									Size:        InputSizeLarge,
								})
							</div>
						</div>
					</div>
				</section>
				
				// FORM SELECTS
				<section class="component-section">
					<h2 class="component-title">üìã { t(ctx, "section.selects") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="demo-label">Select Examples</div>
							<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
								<div>
									@FormSelect(FormSelectProps{
										Name:         "country",
										Label:        t(ctx, "select.country"),
										Placeholder:  t(ctx, "select.country.placeholder"),
										Autocomplete: "country",
										Options: []SelectOption{
											{Value: "pl", Label: t(ctx, "select.country.poland")},
											{Value: "us", Label: t(ctx, "select.country.us")},
											{Value: "uk", Label: t(ctx, "select.country.uk")},
											{Value: "de", Label: t(ctx, "select.country.germany")},
										},
									})
								</div>
								<div>
									@FormSelect(FormSelectProps{
										Name:        "status",
										Label:       t(ctx, "select.status"),
										HelpText:    t(ctx, "select.status.help"),
										Selected:    "active",
										Options: []SelectOption{
											{Value: "active", Label: t(ctx, "select.status.active")},
											{Value: "inactive", Label: t(ctx, "select.status.inactive")},
											{Value: "pending", Label: t(ctx, "select.status.pending")},
										},
									})
								</div>
								<div>
									@FormSelect(FormSelectProps{
										Name:     "error-select",
										Label:    t(ctx, "select.error"),
										Variant:  InputVariantError,
										ErrorMsg: t(ctx, "select.error.required"),
										Options: []SelectOption{
											{Value: "1", Label: "Option 1"},
											{Value: "2", Label: "Option 2"},
										},
									})
								</div>
								<div>
									@FormSelect(FormSelectProps{
										Name:     "disabled-select",
										Label:    t(ctx, "select.disabled"),
										Disabled: true,
										Selected: "locked",
										Options: []SelectOption{
											{Value: "locked", Label: t(ctx, "select.locked")},
										},
									})
								</div>
							</div>
						</div>
						
						<div class="demo-item">
							<div class="demo-label">Select Sizes</div>
							<div class="space-y-4">
								@FormSelect(FormSelectProps{
									Name:  "small-select",
									Label: t(ctx, "size.small"),
									Size:  InputSizeSmall,
									Options: []SelectOption{
										{Value: "1", Label: t(ctx, "size.small")},
									},
								})
								@FormSelect(FormSelectProps{
									Name:  "medium-select",
									Label: t(ctx, "size.medium"),
									Size:  InputSizeMedium,
									Options: []SelectOption{
										{Value: "1", Label: t(ctx, "size.medium")},
									},
								})
								@FormSelect(FormSelectProps{
									Name:  "large-select",
									Label: t(ctx, "size.large"),
									Size:  InputSizeLarge,
									Options: []SelectOption{
										{Value: "1", Label: t(ctx, "size.large")},
									},
								})
							</div>
						</div>
					</div>
				</section>
				
				// COMBINED FORM EXAMPLE
				<section class="component-section">
					<h2 class="component-title">üë§ { t(ctx, "section.combined") }</h2>
					<div class="demo-item">
						<form class="max-w-2xl mx-auto">
							<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
								@FormInput(FormInputProps{
									Name:         "firstName",
									Label:        t(ctx, "form.firstname"),
									Placeholder:  t(ctx, "form.firstname.placeholder"),
									Required:     true,
									Autocomplete: "given-name",
								})
								@FormInput(FormInputProps{
									Name:         "lastName",
									Label:        t(ctx, "form.lastname"),
									Placeholder:  t(ctx, "form.lastname.placeholder"),
									Required:     true,
									Autocomplete: "family-name",
								})
							</div>
							@FormInput(FormInputProps{
								Name:         "email-profile",
								Type:         "email",
								Label:        t(ctx, "form.email"),
								Placeholder:  t(ctx, "form.email.placeholder"),
								Required:     true,
								Autocomplete: "email",
							})
							@FormSelect(FormSelectProps{
								Name:         "role",
								Label:        t(ctx, "select.role"),
								Required:     true,
								Autocomplete: "off",
								Options: []SelectOption{
									{Value: "admin", Label: t(ctx, "select.role.admin")},
									{Value: "user", Label: t(ctx, "select.role.user")},
									{Value: "guest", Label: t(ctx, "select.role.guest")},
								},
							})
							<div class="flex gap-2 justify-end mt-6">
								@Button(ButtonProps{Text: t(ctx, "button.cancel"), Variant: VariantSecondary})
								@Button(ButtonProps{Text: t(ctx, "button.save"), Variant: VariantPrimary})
							</div>
						</form>
					</div>
				</section>
				
				// ERRORS
				<section class="component-section">
					<h2 class="component-title">‚ö†Ô∏è { t(ctx, "section.errors") }</h2>
					<div class="demo-grid">
						@Error(ErrorProps{
							Message:  t(ctx, "error.danger"),
							Variant:  ErrorVariantDanger,
							ShowIcon: true,
						})
						@Error(ErrorProps{
							Message:  t(ctx, "error.warning"),
							Variant:  ErrorVariantWarning,
							ShowIcon: true,
						})
						@Error(ErrorProps{
							Message:  t(ctx, "error.info"),
							Variant:  ErrorVariantInfo,
							ShowIcon: true,
						})
					</div>
				</section>
				
				// NOTIFICATIONS
				<section class="component-section">
					<h2 class="component-title">üîî { t(ctx, "section.notifications") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="space-y-3">
								@InlineNotification(NotificationProps{
									Title:       t(ctx, "notification.success.title"),
									Message:     t(ctx, "notification.success.message"),
									Type:        NotificationSuccess,
									Dismissible: true,
								})
								@InlineNotification(NotificationProps{
									Title:       t(ctx, "notification.error.title"),
									Message:     t(ctx, "notification.error.message"),
									Type:        NotificationError,
									Dismissible: true,
								})
								@InlineNotification(NotificationProps{
									Title:       t(ctx, "notification.warning.title"),
									Message:     t(ctx, "notification.warning.message"),
									Type:        NotificationWarning,
									Dismissible: true,
								})
							</div>
						</div>
					</div>
				</section>
				
				<footer class="mt-8 text-center text-gray-600 pb-8">
					<p>{ t(ctx, "footer.text") }</p>
				</footer>
			</div>
		</body>
	</html>
}
