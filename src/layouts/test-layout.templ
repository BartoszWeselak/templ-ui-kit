package layouts

import (
	"context"
	"templ-ui-kit/src/components"
	"templ-ui-kit/src/i18n"
)

// Aliasy dla u≈Çatwienia
type (
	ButtonProps = components.ButtonProps
	ButtonVariant = components.ButtonVariant
	ButtonSize = components.ButtonSize
	ButtonWidth = components.ButtonWidth
	IconPosition = components.IconPosition
	CardProps = components.CardProps
	ErrorProps = components.ErrorProps
	ErrorVariant = components.ErrorVariant
	NotificationProps = components.NotificationProps
	NotificationType = components.NotificationType
	NotificationPosition = components.NotificationPosition
)

// Aliasy dla funkcji komponent√≥w
var (
	Button = components.Button
	Card = components.Card
	Error = components.Error
	Notification = components.Notification
	InlineNotification = components.InlineNotification
	IconPlus = components.IconPlus
	IconTrash = components.IconTrash
	IconDownload = components.IconDownload
)

// Aliasy dla sta≈Çych
const (
	VariantPrimary = components.VariantPrimary
	VariantSecondary = components.VariantSecondary
	VariantDanger = components.VariantDanger
	VariantBuy = components.VariantBuy
	
	SizeSmall = components.SizeSmall
	SizeMedium = components.SizeMedium
	SizeLarge = components.SizeLarge
	SizeXLarge = components.SizeXLarge
	
	WidthXSmall = components.WidthXSmall
	WidthSmall = components.WidthSmall
	WidthMedium = components.WidthMedium
	WidthLarge = components.WidthLarge
	
	IconLeft = components.IconLeft
	IconRight = components.IconRight
	
	CardVariantGray = components.CardVariantGray
	CardVariantWhite = components.CardVariantWhite
	CardSizeMedium = components.CardSizeMedium
	CardSizeFull = components.CardSizeFull
	
	ErrorVariantDanger = components.ErrorVariantDanger
	ErrorVariantWarning = components.ErrorVariantWarning
	ErrorVariantInfo = components.ErrorVariantInfo
	
	NotificationSuccess = components.NotificationSuccess
	NotificationError = components.NotificationError
	NotificationWarning = components.NotificationWarning
	NotificationInfo = components.NotificationInfo
	
	PositionTopRight = components.PositionTopRight
)

// t helper function for translations
func t(ctx context.Context, key string) string {
	lang := i18n.GetLanguage(ctx)
	return i18n.GetTranslator().T(lang, key)
}

templ TestLayoutI18n(ctx context.Context) {
	<!DOCTYPE html>
	<html lang={ i18n.GetLanguage(ctx) }>
		<head>
			<meta charset="UTF-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>{ t(ctx, "app.title") }</title>
			<script src="https://cdn.tailwindcss.com"></script>
			<link rel="stylesheet" href="/static/theme.css"/>
			<style>
				.component-section {
					margin-bottom: 3rem;
					padding: 2rem;
					background: #f9fafb;
					border-radius: 0.5rem;
				}
				.component-title {
					font-size: 1.5rem;
					font-weight: bold;
					margin-bottom: 1.5rem;
					color: #1f2937;
					border-bottom: 2px solid #3b82f6;
					padding-bottom: 0.5rem;
				}
				.demo-grid {
					display: grid;
					gap: 1.5rem;
					margin-top: 1rem;
				}
				.demo-item {
					padding: 1rem;
					background: white;
					border-radius: 0.375rem;
					border: 1px solid #e5e7eb;
				}
				.demo-label {
					font-size: 0.875rem;
					font-weight: 600;
					color: #6b7280;
					margin-bottom: 0.5rem;
				}
			</style>
		</head>
		<body class="bg-gray-100 p-8">
			<div class="max-w-7xl mx-auto">
				// Language Switcher
				<div class="mb-4 flex justify-end gap-2">
					<a href="?lang=en" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">English</a>
					<a href="?lang=pl" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">Polski</a>
					<a href="?lang=de" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">Deutsch</a>
				</div>
				
				<header class="mb-8">
					<h1 class="text-4xl font-bold text-gray-900 mb-2">{ t(ctx, "app.title") }</h1>
					<p class="text-gray-600">{ t(ctx, "app.subtitle") }</p>
				</header>
				
				// BUTTONS
				<section class="component-section">
					<h2 class="component-title">üîò { t(ctx, "section.buttons") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.variants") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.primary"), Variant: VariantPrimary})
								@Button(ButtonProps{Text: t(ctx, "button.secondary"), Variant: VariantSecondary})
								@Button(ButtonProps{Text: t(ctx, "button.danger"), Variant: VariantDanger})
								@Button(ButtonProps{Text: t(ctx, "button.buy"), Variant: VariantBuy})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.sizes") }</div>
							<div class="flex gap-2 items-center flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "size.small"), Size: SizeSmall})
								@Button(ButtonProps{Text: t(ctx, "size.medium"), Size: SizeMedium})
								@Button(ButtonProps{Text: t(ctx, "size.large"), Size: SizeLarge})
								@Button(ButtonProps{Text: t(ctx, "size.xlarge"), Size: SizeXLarge})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.icons") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.add"), Icon: IconPlus(), IconPosition: IconLeft})
								@Button(ButtonProps{Text: t(ctx, "button.delete"), Icon: IconTrash(), Variant: VariantDanger})
								@Button(ButtonProps{Text: t(ctx, "button.download"), Icon: IconDownload(), IconPosition: IconRight, Variant: VariantBuy})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.states") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.loading"), Loading: true})
								@Button(ButtonProps{Text: t(ctx, "button.disabled"), Disabled: true})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.widths") }</div>
							<div class="space-y-2">
								@Button(ButtonProps{Text: t(ctx, "width.xsmall"), Width: WidthXSmall})
								@Button(ButtonProps{Text: t(ctx, "width.small"), Width: WidthSmall})
								@Button(ButtonProps{Text: t(ctx, "width.medium"), Width: WidthMedium})
								@Button(ButtonProps{Text: t(ctx, "width.large"), Width: WidthLarge})
								@Button(ButtonProps{Text: t(ctx, "width.full")})
							</div>
						</div>
					</div>
				</section>
				
				// CARDS
				<section class="component-section">
					<h2 class="component-title">üÉè { t(ctx, "section.cards") }</h2>
					<div class="demo-grid grid-cols-1 md:grid-cols-3">
						@Card(CardProps{
							Title:   t(ctx, "card.white.title"),
							Content: t(ctx, "card.white.content"),
							Variant: CardVariantWhite,
							Size:    CardSizeMedium,
						})
						@Card(CardProps{
							Title:   t(ctx, "card.gray.title"),
							Content: t(ctx, "card.gray.content"),
							Variant: CardVariantGray,
							Size:    CardSizeMedium,
						})
						@Card(CardProps{
							Title:   t(ctx, "card.blue.title"),
							Content: t(ctx, "card.blue.content"),
							Variant: components.CardVariantBlue,
							Size:    CardSizeMedium,
						})
					</div>
				</section>
				
				// ERRORS
				<section class="component-section">
					<h2 class="component-title">‚ö†Ô∏è { t(ctx, "section.errors") }</h2>
					<div class="demo-grid">
						@Error(ErrorProps{
							Message:  t(ctx, "error.danger"),
							Variant:  ErrorVariantDanger,
							ShowIcon: true,
						})
						@Error(ErrorProps{
							Message:  t(ctx, "error.warning"),
							Variant:  ErrorVariantWarning,
							ShowIcon: true,
						})
						@Error(ErrorProps{
							Message:  t(ctx, "error.info"),
							Variant:  ErrorVariantInfo,
							ShowIcon: true,
						})
					</div>
				</section>
				
				// NOTIFICATIONS
				<section class="component-section">
					<h2 class="component-title">üîî { t(ctx, "section.notifications") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="space-y-3">
								@InlineNotification(NotificationProps{
									Title:       t(ctx, "notification.success.title"),
									Message:     t(ctx, "notification.success.message"),
									Type:        NotificationSuccess,
									Dismissible: true,
								})
								@InlineNotification(NotificationProps{
									Title:       t(ctx, "notification.error.title"),
									Message:     t(ctx, "notification.error.message"),
									Type:        NotificationError,
									Dismissible: true,
								})
								@InlineNotification(NotificationProps{
									Title:       t(ctx, "notification.warning.title"),
									Message:     t(ctx, "notification.warning.message"),
									Type:        NotificationWarning,
									Dismissible: true,
								})
							</div>
						</div>
					</div>
				</section>
				
				<footer class="mt-8 text-center text-gray-600 pb-8">
					<p>{ t(ctx, "footer.text") }</p>
				</footer>
			</div>
		</body>
	</html>
}
