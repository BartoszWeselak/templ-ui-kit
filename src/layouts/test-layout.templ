package layouts

import (
	"context"
	"templ-ui-kit/src/components"
	"templ-ui-kit/src/i18n"
)

// Aliasy dla u≈Çatwienia
type (
	ButtonProps          = components.ButtonProps
	ButtonVariant        = components.ButtonVariant
	ButtonSize           = components.ButtonSize
	ButtonWidth          = components.ButtonWidth
	IconPosition         = components.IconPosition
	CardProps            = components.CardProps
	ErrorProps           = components.ErrorProps
	ErrorVariant         = components.ErrorVariant
	NotificationProps    = components.NotificationProps
	NotificationType     = components.NotificationType
	NotificationPosition = components.NotificationPosition
	NotificationSize     = components.NotificationSize
	FormInputProps       = components.FormInputProps
	InputSize            = components.InputSize
	InputVariant         = components.InputVariant
	FormSelectProps      = components.FormSelectProps
	SelectOption         = components.SelectOption
	PaginationProps      = components.PaginationProps
	ModalTriggerProps    = components.ModalTriggerProps
	BadgeProps           = components.BadgeProps
	BadgeVariant         = components.BadgeVariant
	BadgeSize            = components.BadgeSize
	// templ.Attributes jest dostƒôpne bezpo≈õrednio przez import templ
	Attrs = templ.Attributes
)

// Aliasy dla funkcji komponent√≥w
var (
	Button       = components.Button
	Card         = components.Card
	Error        = components.Error
	Notification = components.Notification
	FormInput    = components.FormInput
	FormSelect   = components.FormSelect
	IconPlus     = components.IconPlus
	IconTrash    = components.IconTrash
	IconDownload = components.IconDownload
	IconCheck    = components.IconCheck
	IconX        = components.IconX
	Pagination   = components.Pagination
	ModalTrigger = components.ModalTrigger
	ModalBody    = components.ModalBody
	ModalFooter  = components.ModalFooter
	ModalScript  = components.ModalScript
	Badge        = components.Badge
)

// Aliasy dla sta≈Çych
const (
	VariantPrimary   = components.VariantPrimary
	VariantSecondary = components.VariantSecondary
	VariantDanger    = components.VariantDanger
	VariantBuy       = components.VariantBuy

	SizeSmall  = components.SizeSmall
	SizeMedium = components.SizeMedium
	SizeLarge  = components.SizeLarge
	SizeXLarge = components.SizeXLarge

	WidthAuto   = components.WidthAuto
	WidthSmall  = components.WidthSmall
	WidthMedium = components.WidthMedium
	WidthLarge  = components.WidthLarge
	WidthFull   = components.WidthFull

	IconLeft  = components.IconLeft
	IconRight = components.IconRight

	CardVariantGray  = components.CardVariantGray
	CardVariantWhite = components.CardVariantWhite
	CardVariantBlue  = components.CardVariantBlue
	CardSizeMedium   = components.CardSizeMedium
	CardSizeFull     = components.CardSizeFull

	ErrorVariantDanger  = components.ErrorVariantDanger
	ErrorVariantWarning = components.ErrorVariantWarning
	ErrorVariantInfo    = components.ErrorVariantInfo

	NotificationSuccess = components.NotificationSuccess
	NotificationError   = components.NotificationError
	NotificationWarning = components.NotificationWarning
	NotificationInfo    = components.NotificationInfo

	PositionTopRight = components.PositionTopRight

	InputSizeSmall  = components.InputSizeSmall
	InputSizeMedium = components.InputSizeMedium
	InputSizeLarge  = components.InputSizeLarge

	InputVariantDefault = components.InputVariantDefault
	InputVariantError   = components.InputVariantError
	InputVariantSuccess = components.InputVariantSuccess

	NotificationSizeSmall  = components.NotificationSizeSmall
	NotificationSizeMedium = components.NotificationSizeMedium
	NotificationSizeLarge  = components.NotificationSizeLarge

	BadgeNeutral = components.BadgeNeutral
	BadgeEmpty   = components.BadgeEmpty
	BadgeDanger  = components.BadgeDanger
	BadgeWarning = components.BadgeWarning
	BadgeSuccess = components.BadgeSuccess
	BadgeInfo    = components.BadgeInfo

	BadgeSizeSmall  = components.BadgeSizeSmall
	BadgeSizeMedium = components.BadgeSizeMedium
	BadgeSizeLarge  = components.BadgeSizeLarge
)

// t helper function for translations
func t(ctx context.Context, key string) string {
	lang := i18n.GetLanguage(ctx)
	return i18n.GetTranslator().T(lang, key)
}

templ TestLayoutI18n(ctx context.Context) {
	<!DOCTYPE html>
	<html lang={ i18n.GetLanguage(ctx) }>
		<head>
			<meta charset="UTF-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>{ t(ctx, "app.title") }</title>
			<script src="https://cdn.tailwindcss.com"></script>
			<link rel="stylesheet" href="/static/theme.css"/>
			@ModalScript()
			<style>
				.component-section {
					margin-bottom: 3rem;
					padding: 2rem;
					background: #f9fafb;
					border-radius: 0.5rem;
				}
				.component-title {
					font-size: 1.5rem;
					font-weight: bold;
					margin-bottom: 1.5rem;
					color: #1f2937;
					border-bottom: 2px solid #3b82f6;
					padding-bottom: 0.5rem;
				}
				.demo-grid {
					display: grid;
					gap: 1.5rem;
					margin-top: 1rem;
				}
				.demo-item {
					padding: 1rem;
					background: white;
					border-radius: 0.375rem;
					border: 1px solid #e5e7eb;
				}
				.demo-label {
					font-size: 0.875rem;
					font-weight: 600;
					color: #6b7280;
					margin-bottom: 0.5rem;
				}
			</style>
		</head>
		<body class="bg-gray-100 p-8">
			<div class="max-w-7xl mx-auto">
				// Language Switcher
				<div class="mb-4 flex justify-end gap-2">
					<a href="?lang=en" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">English</a>
					<a href="?lang=pl" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">Polski</a>
					<a href="?lang=de" class="px-3 py-1 bg-white border rounded hover:bg-gray-50">Deutsch</a>
				</div>
				<header class="mb-8">
					<h1 class="text-4xl font-bold text-gray-900 mb-2">{ t(ctx, "app.title") }</h1>
					<p class="text-gray-600">{ t(ctx, "app.subtitle") }</p>
				</header>
				// BADGES
				<section class="component-section">
					<h2 class="component-title">üè∑Ô∏è Badges</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="demo-label">Badge Variants</div>
							<div class="flex gap-2 flex-wrap items-center">
								@Badge(BadgeProps{Text: "Neutral", Variant: BadgeNeutral})
								@Badge(BadgeProps{Text: "Empty", Variant: BadgeEmpty})
								@Badge(BadgeProps{Text: "Danger", Variant: BadgeDanger})
								@Badge(BadgeProps{Text: "Warning", Variant: BadgeWarning})
								@Badge(BadgeProps{Text: "Success", Variant: BadgeSuccess})
								@Badge(BadgeProps{Text: "Info", Variant: BadgeInfo})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">Badge Sizes</div>
							<div class="flex gap-2 items-center flex-wrap">
								@Badge(BadgeProps{Text: "Small", Size: BadgeSizeSmall, Variant: BadgeSuccess})
								@Badge(BadgeProps{Text: "Medium", Size: BadgeSizeMedium, Variant: BadgeSuccess})
								@Badge(BadgeProps{Text: "Large", Size: BadgeSizeLarge, Variant: BadgeSuccess})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">Badges with Icons</div>
							<div class="flex gap-2 flex-wrap items-center">
								@Badge(BadgeProps{Text: "Verified", Variant: BadgeSuccess, Icon: IconCheck(), IconPosition: IconLeft})
								@Badge(BadgeProps{Text: "Error", Variant: BadgeDanger, Icon: IconX(), IconPosition: IconLeft})
								@Badge(BadgeProps{Text: "New", Variant: BadgeInfo, Icon: IconPlus(), IconPosition: IconRight})
								@Badge(BadgeProps{Text: "Delete", Variant: BadgeWarning, Icon: IconTrash(), IconPosition: IconLeft, Size: BadgeSizeLarge})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">Practical Examples</div>
							<div class="space-y-4">
								<div class="p-4 bg-gray-50 rounded">
									<div class="flex items-center justify-between">
										<span class="font-medium">John Doe</span>
										@Badge(BadgeProps{Text: "Admin", Variant: BadgeInfo, Size: BadgeSizeSmall})
									</div>
								</div>
								<div class="p-4 bg-gray-50 rounded">
									<div class="flex items-center justify-between">
										<span class="font-medium">Order #1234</span>
										<div class="flex gap-2">
											@Badge(BadgeProps{Text: "Paid", Variant: BadgeSuccess, Icon: IconCheck()})
											@Badge(BadgeProps{Text: "Shipped", Variant: BadgeInfo})
										</div>
									</div>
								</div>
								<div class="p-4 bg-gray-50 rounded">
									<div class="flex items-center justify-between">
										<span class="font-medium">Task Item</span>
										<div class="flex gap-2">
											@Badge(BadgeProps{Text: "High Priority", Variant: BadgeDanger, Size: BadgeSizeSmall})
											@Badge(BadgeProps{Text: "In Progress", Variant: BadgeWarning, Size: BadgeSizeSmall})
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
				// BUTTONS
				<section class="component-section">
					<h2 class="component-title">üîò { t(ctx, "section.buttons") }</h2>
					<div class="demo-grid">
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.variants") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.primary"), Variant: VariantPrimary})
								@Button(ButtonProps{Text: t(ctx, "button.secondary"), Variant: VariantSecondary})
								@Button(ButtonProps{Text: t(ctx, "button.danger"), Variant: VariantDanger})
								@Button(ButtonProps{Text: t(ctx, "button.buy"), Variant: VariantBuy})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.sizes") }</div>
							<div class="flex gap-2 items-center flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "size.small"), Size: SizeSmall})
								@Button(ButtonProps{Text: t(ctx, "size.medium"), Size: SizeMedium})
								@Button(ButtonProps{Text: t(ctx, "size.large"), Size: SizeLarge})
								@Button(ButtonProps{Text: t(ctx, "size.xlarge"), Size: SizeXLarge})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.icons") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.add"), Icon: IconPlus(), IconPosition: IconLeft})
								@Button(ButtonProps{Text: t(ctx, "button.delete"), Icon: IconTrash(), Variant: VariantDanger})
								@Button(ButtonProps{Text: t(ctx, "button.download"), Icon: IconDownload(), IconPosition: IconRight, Variant: VariantBuy})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.states") }</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{Text: t(ctx, "button.loading"), Loading: true})
								@Button(ButtonProps{Text: t(ctx, "button.disabled"), Disabled: true})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">{ t(ctx, "label.widths") }</div>
							<div class="space-y-2">
								@Button(ButtonProps{Text: t(ctx, "width.small"), Width: WidthSmall})
								@Button(ButtonProps{Text: t(ctx, "width.medium"), Width: WidthMedium})
								@Button(ButtonProps{Text: t(ctx, "width.large"), Width: WidthLarge})
								@Button(ButtonProps{Text: t(ctx, "width.full"), Width: WidthFull})
							</div>
						</div>
						<div class="demo-item">
							<div class="demo-label">HTMX (przez Attrs)</div>
							<div class="flex gap-2 flex-wrap">
								@Button(ButtonProps{
									Text:    "Wy≈õlij HTMX",
									Variant: VariantPrimary,
									Attrs: templ.Attributes{
										"hx-post":   "/api/example",
										"hx-target": "#result",
										"hx-swap":   "outerHTML",
									},
								})
							</div>
						</div>
					</div>
				</section>
				<footer class="mt-8 text-center text-gray-600 pb-8">
					<p>{ t(ctx, "footer.text") }</p>
				</footer>
			</div>
		</body>
	</html>
}
